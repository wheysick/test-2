/* ===== checkout3.css v3.4 — luxury dark checkout ===== */
:root{
  --bg:#0b0d11; --panel:#0f1217; --fg:#e8ebf2;
  --muted:rgba(255,255,255,.06); --border:rgba(255,255,255,.12);
  --accent:#C471F5; --accent2:#FA71CD; /* violet → pink */
  --radius:16px; --shadow:0 24px 60px rgba(0,0,0,.55);
  --gap:18px;
  font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Arial,sans-serif;
}

/* Backdrop */
#checkoutModal{ display:none; }
#checkoutModal.show{ display:flex !important; }
#checkoutModal.co-fullscreen{
  position:fixed; inset:0; z-index:999999;
  align-items:center; justify-content:center;
  background:rgba(3,5,8,.78);
}

/* Panel */
#checkoutModal .co-panel{
  width:min(92vw,640px);
  max-height:calc(100dvh - 4rem);
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.00)) , var(--panel);
  color:var(--fg);
  border:1px solid rgba(255,255,255,.06);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:auto; overscroll-behavior:contain;
  padding:28px clamp(18px,3.5vw,28px) 88px;
}

/* Mobile friendliness */
html,body{ -webkit-tap-highlight-color:transparent; }
#checkoutModal .co-panel, .co-actions{ padding-bottom:max(88px, env(safe-area-inset-bottom)); }

/* Close */
#checkoutClose{
  position:fixed; top:14px; right:14px; z-index:1000000;
  width:42px; height:42px; border-radius:999px; border:1px solid rgba(255,255,255,.12);
  background:rgba(17,17,19,.9); color:#fff; display:flex; align-items:center; justify-content:center;
  backdrop-filter:saturate(120%) blur(6px);
  box-shadow:0 6px 18px rgba(0,0,0,.45);
  cursor:pointer;
}

/* Steps */
.co-step[hidden], .co-step[aria-hidden="true"]{ display:none !important; }
.co-title{
  text-align:center; font-weight:900; letter-spacing:.2px;
  font-size: clamp(20px, 2.2vw, 26px); margin:4px 0 16px;
}

/* Step 1 form */
#coStep1 .co-form-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:14px 16px; margin-top:6px;
}
@media (max-width:640px){ #coStep1 .co-form-grid{ grid-template-columns:1fr; } }
#coStep1 label{ font-size:12.5px; opacity:.78; margin-bottom:6px; text-align:left; }
#coStep1 input{
  width:100%; padding:12px 14px; border-radius:14px;
  border:1px solid var(--border); background:var(--muted); color:var(--fg);
}
#coStep1 input:focus{ border-color:var(--accent); outline:none; box-shadow:0 0 0 3px rgba(196,113,245,.2); }

/* Step 2 qty */
#coStep2{ text-align:center; }
#coQtyRow{ display:flex; justify-content:center; align-items:center; gap:12px; margin:10px 0 8px; }
.co-qty-btn{
  width:42px; height:42px; border-radius:12px;
  border:1px solid var(--border); background:var(--muted); color:var(--fg);
  display:flex; align-items:center; justify-content:center; cursor:pointer;
}
#coQty{
  width:78px; text-align:center; padding:12px; border-radius:12px;
  border:1px solid var(--border); background:var(--muted); color:var(--fg);
}

/* Price line */
.co-price-line{ margin:10px 0 16px; font-size:18px; }
.co-price .co-was{ text-decoration:line-through; opacity:.55; margin-right:8px; }
.co-price .co-now{ font-weight:800; }

/* Methods */
.co-methods{
  display:grid; gap:14px;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  margin:16px 0 6px;
}
.co-method{
  border:1px solid var(--border);
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.00));
  border-radius:14px; padding:16px 14px; color:var(--fg);
  transition:border .15s ease, box-shadow .15s ease, transform .06s ease;
}
.co-method:hover{ border-color:rgba(255,255,255,.25); }
.co-method:active{ transform:translateY(1px); }
.co-method[aria-selected="true"]{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(196,113,245,.35) inset;
}

/* Totals */
.co-totals{
  margin-top:18px; border:1px solid var(--border); border-radius:14px;
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.00));
  padding:14px 16px; text-align:left;
}
.co-totals .row{ display:flex; align-items:center; gap:12px; padding:6px 0; }
.co-totals .label{ opacity:.85; }
.co-totals .value{ margin-left:auto; font-variant-numeric:tabular-nums; }
.co-totals .row.total{ border-top:1px dashed var(--border); margin-top:8px; padding-top:10px; font-weight:800; }

/* Action bar */
.co-actions{
  position:sticky; bottom:0; z-index:3;
  display:flex; justify-content:flex-end; gap:10px;
  padding:14px 18px;
  background:linear-gradient(180deg,rgba(11,13,17,0),rgba(11,13,17,.85));
  backdrop-filter:blur(8px);
  box-shadow:0 -10px 28px rgba(0,0,0,.35);
}
.co-actions .btn{
  border:none; border-radius:14px; padding:13px 22px; font-weight:800; font-size:15px; cursor:pointer;
}
.btn-primary{
  background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#fff;
  box-shadow:0 10px 24px rgba(250,113,205,.25), 0 2px 0 rgba(0,0,0,.35) inset;
}
.btn-primary:hover{ filter:brightness(1.05); }
.btn-ghost{ background:transparent; color:var(--fg); border:1px solid var(--border); }
.btn-ghost:hover{ border-color:var(--accent); }

/* Step 3 */
.cardset{ margin:16px 0; padding:14px; border:1px solid var(--border); border-radius:14px; }
.co-row{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
@media (max-width:640px){ .co-row{ grid-template-columns:1fr; } }

/* Kill sticky price bars inside modal */
#checkoutModal [data-sticky="price"], #checkoutModal #coStickyPrice{ display:none !important; }

/* Hide CTAs when open */
html[data-checkout-open="1"] .cta,
html[data-checkout-open="1"] [data-hide-on-checkout]{ display:none !important; }
