/* ===== checkout3.css v5.3 â€” Checkout polish per patch list ===== */
:root{
  --panel:#0F1319; --fg:#E9ECF2; --muted:rgba(255,255,255,.06); --border:rgba(255,255,255,.12);
  --accent:#C471F5; --accent2:#FA71CD; --radius:16px; --pad:clamp(18px,3.2vw,28px);
  --shadow:0 28px 64px rgba(0,0,0,.55); --body:16px; --small:13.5px; --title:clamp(20px,2.2vw,26px);
}
#checkoutModal{display:none;}
#checkoutModal.show{display:flex!important;}
#checkoutModal.co-fullscreen{
  position:fixed; inset:0; z-index:999999; align-items:center; justify-content:center;
  background:rgba(10,12,16,.86); /* darker backdrop to match page */
}
#checkoutModal .modal-content.checkout-card{
  width:min(92vw,580px); /* narrower on desktop to prevent horizontal scroll */
  max-height:calc(100dvh - 4rem);
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0)), var(--panel);
  color:var(--fg); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:auto; overflow-x:hidden; overscroll-behavior:contain; padding:28px var(--pad) 60px;
}
#checkoutClose{
  position:fixed; top:14px; right:14px; z-index:1000000; width:44px; height:44px; border-radius:999px;
  border:1px solid rgba(255,255,255,.14); background:rgba(18,19,23,.92); color:#fff; display:flex; align-items:center; justify-content:center;
  backdrop-filter:blur(6px) saturate(120%); cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.45);
}

/* Steps */
.co-pane[hidden], .co-pane[aria-hidden="true"]{display:none!important;}
.co-h3{font-size:var(--title); font-weight:900; letter-spacing:.2px; text-align:center; margin:4px 0 18px;}

/* Step 1 */
#coStep1 .co-grid{display:grid; grid-template-columns:1fr 1fr; gap:14px 16px; margin-top:6px;}
#coStep1 .co-row{display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px 16px;}
@media (max-width:640px){
  #coStep1 .co-grid{grid-template-columns:1fr;}
  #coStep1 .co-row{grid-template-columns:1fr;}
}
#coStep1 label{font-size:var(--small); opacity:.85; display:flex; flex-direction:column; gap:6px;}
#coStep1 input{
  width:100%; padding:12px 14px; border-radius:14px; font-size:16px; /* prevent iOS zoom */
  border:1px solid var(--border); background:var(--muted); color:var(--fg); outline:none;
}
#coStep1 input:focus{border-color:var(--accent); box-shadow:0 0 0 3px rgba(196,113,245,.2);}
/* Center the continue button in Step 1 */
#coStep1 .co-next{ display:flex; margin:16px auto 0; }

/* Buttons */
.btn-main{border:none; border-radius:14px; cursor:pointer; font-weight:800; color:#fff; background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 10px 24px rgba(250,113,205,.25), 0 2px 0 rgba(0,0,0,.35) inset;}
.btn-lg{padding:13px 22px; font-size:15px;}
.btn-sm{padding:10px 16px; font-size:14px;}
.btn-main:hover{filter:brightness(1.06);}

/* Step 2 */
#coStep2{text-align:center;}
/* Normalize type across sections */
#coStep2 .co-qty, #coStep2 .co-price, #coStep2 .co-methods, #coStep2 .co-totals { font-size: var(--body); }

.co-qty{display:flex; justify-content:center; align-items:center; gap:12px; margin:10px 0 8px;}
.qty-btn{width:44px; height:44px; border-radius:12px; font-size:18px; border:1px solid var(--border); background:var(--muted); color:var(--fg);}
#coQty{width:86px; text-align:center; padding:12px; border-radius:12px; font-size:16px; border:1px solid var(--border); background:var(--muted); color:var(--fg);}

.co-free{margin:4px 0 12px; opacity:.95; font-size:var(--body);}
.co-price{margin:10px 0 16px; font-size:18px;}
.co-price .was{margin-right:8px; text-decoration:line-through; opacity:.55;}
.co-price .now{font-weight:800;}

.co-methods{display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); margin:18px 0 10px;}
.co-method{border:1px solid var(--border); background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,0)); border-radius:14px; padding:16px 14px; text-align:left; color:var(--fg); transition:border .15s ease, box-shadow .15s ease, transform .06s ease; cursor:pointer;}
.co-method .co-title{font-weight:800; font-size:15px; line-height:1.25;}
.co-method .co-badge,.co-method .co-discount{opacity:.85; font-size:13.5px; margin-top:6px; display:block;}
.co-method:hover{border-color:rgba(255,255,255,.25);}
.co-method:active{transform:translateY(1px);}
.co-method[aria-selected="true"]{border-color:var(--accent); box-shadow:0 0 0 2px rgba(196,113,245,.35) inset;}

.co-sticky{position:relative; margin-top:8px;}
.co-totals{border:1px solid var(--border); border-radius:14px; background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,0)); padding:14px 16px; text-align:left;}
.co-totals > div{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:6px 0; font-size:var(--body); font-variant-numeric:tabular-nums;}
.co-total-row{border-top:1px dashed var(--border); margin-top:8px; padding-top:10px; font-weight:800;}

/* Actions: center on all steps; but remove sticky effect on Step 2 */
.co-actions{position:sticky; bottom:0; z-index:3; display:flex; justify-content:center; gap:10px; padding:14px var(--pad); background:linear-gradient(180deg,rgba(11,13,17,0),rgba(11,13,17,.88)); backdrop-filter:blur(8px); box-shadow:0 -10px 28px rgba(0,0,0,.35);}
#coStep2 .co-actions{ position:static; background:none; box-shadow:none; padding:12px 0; }

.co-secure{margin:10px 0 0; text-align:center; opacity:.9; font-size:var(--small);}

/* Step 3 */
.cardset{margin:16px 0; padding:14px; border:1px solid var(--border); border-radius:14px; max-width:100%;}
.cardset legend{padding:0 6px; font-size:var(--small); opacity:.9;}
.cardset label{ font-size: var(--small); opacity: .9; display:flex; flex-direction:column; gap:6px; }
.cardset input{
  font-size:16px; padding:12px 14px; border-radius:12px; width:100%;
  border:1px solid var(--border); background:var(--muted); color:var(--fg);
}
.cardset input:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(196,113,245,.2); }

.co-row{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px; max-width:100%;}
@media (max-width:640px){.co-row{grid-template-columns:1fr;}}
/* Center the action bar on Step 3 (already centered globally) */

/* Remove terms checkbox (hidden) */
.co-terms{ display:none !important; }

.co-trust{margin-top:8px; text-align:center; opacity:.8; font-size:var(--small);}

/* Success */
.co-success[hidden]{display:none!important;}
.co-success h4{font-size:var(--title); font-weight:900; margin:8px 0 6px;}

/* Ensure theme sticky bars don't appear inside modal */
#checkoutModal [data-sticky="price"], #checkoutModal #coStickyPrice{display:none!important;}
